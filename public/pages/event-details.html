<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tazkirati | Event Details</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
  <link rel="stylesheet" href="/assets/css/header.css">
  <link rel="stylesheet" href="/assets/css/home.css">
</head>
<body class="tzk-home">
<header class="tzk-header">
  <div class="container-fluid tzk-header-row d-flex align-items-center justify-content-between">

    <!-- LEFT: LOGO -->
    <div class="tzk-header-left d-flex align-items-center">
      <a href="/"><img src="/assets/logo/tazkirati-logo.png" alt="Tazkirati Logo" class="tzk-logo"></a>
    </div>

    <!-- CENTER: MENU + SEARCH UNDER IT -->
    <div class="tzk-header-center d-flex flex-column align-items-center flex-grow-1">
      <nav>
        <ul class="nav tzk-nav-menu justify-content-center gap-4">
          <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
          <li class="nav-item"><a href="/events" class="nav-link">Events</a></li>
          <li class="nav-item"><a href="#" class="nav-link">Sports</a></li>
          <li class="nav-item"><a href="#" class="nav-link">Concerts</a></li>
          <li class="nav-item"><a href="#" class="nav-link">Theater</a></li>
        </ul>
      </nav>

      <form class="tzk-search-bar" role="search">
        <input
          type="text"
          id="detailSearchInput"
          class="tzk-search-input"
          placeholder="Search..."
          aria-label="Search">
        <button type="button" id="detailSearchBtn" class="tzk-search-icon-btn" aria-label="Search">
          <i class="bi bi-search"></i>
        </button>
      </form>
    </div>

    <!-- RIGHT: ACTIONS -->
    <div class="tzk-header-right d-flex align-items-center gap-3">
      <a href="#" class="tzk-small-link">My tickets</a>
      <a href="/login" class="btn tzk-signin-btn px-3">Sign in</a>
    </div>

  </div>
</header>

<main class="tzk-event-details">
  <section class="tzk-event-hero">
    <div class="tzk-event-hero-image" id="detailImage"></div>
    <div class="tzk-event-hero-info">
      <p class="tzk-featured-label">Event</p>
      <h1 id="detailTitle">Loading...</h1>
      <p class="tzk-event-hero-meta" id="detailDate">&nbsp;</p>
      <p class="tzk-event-hero-meta" id="detailVenue">&nbsp;</p>
      <p class="tzk-event-hero-meta" id="detailPrice">&nbsp;</p>
      <div class="d-flex gap-2 flex-wrap">
        <button id="detailBuyBtn" class="tzk-featured-btn">Buy tickets</button>
        <button id="wishlistBtn" class="tzk-featured-btn">Add to wishlist</button>
        <button id="joinWaitlistBtn" class="tzk-featured-btn" style="display:none;">Join waiting list</button>
      </div>
      <div id="waitlistBanner" class="mt-2 text-danger fw-semibold" style="display:none;">Sold out. Join the waiting list to get notified when seats free up.</div>
      <div id="waitlistMessage" class="tzk-seating-msg" style="max-width:420px;"></div>
    </div>
  </section>

  <section class="tzk-event-venue" id="venueBlock" hidden>
    <h3>Venue</h3>
    <p id="venueName"></p>
    <p id="venueAddress"></p>
  </section>

  <section class="tzk-seating">
    <div class="tzk-seating-header">
      <div>
        <h3>Choose category</h3>
        <p class="tzk-seating-hint">Pick a section, then select seats on the map.</p>
      </div>
      <div id="seatingMessage" class="tzk-seating-msg"></div>
    </div>
    <div class="tzk-seating-content">
      <div class="tzk-seating-categories" id="seatingCategories">
        <!-- categories -->
      </div>
      <div class="tzk-seating-map" id="seatingMap">
        <div class="tzk-seating-map-placeholder">Select a category to view seats.</div>
      </div>
    </div>
    <div class="tzk-seating-actions">
      <button id="reserveSeatsBtn" class="tzk-event-btn" disabled>Reserve seats</button>
      <span id="selectedCount" class="tzk-seating-selected">0 seats selected</span>
    </div>
    <div id="paymentSection" class="tzk-payment-panel" hidden>
      <div class="tzk-payment-header">
        <div>
          <h4>Payment</h4>
          <p class="tzk-payment-hint" id="paymentReservationInfo"></p>
        </div>
        <div id="paymentMessage" class="tzk-payment-msg"></div>
      </div>
      <div class="tzk-payment-body">
      <div class="tzk-payment-methods" id="paymentMethods">
        <div class="tzk-methods-head">
          <span class="tzk-methods-title">Payment method</span>
          <span class="tzk-methods-hint">Choose a method below</span>
        </div>
        <div id="paymentMethodCards" class="tzk-method-card-grid"></div>
      </div>
        <div class="tzk-payment-form">
          <label>Cardholder name
            <input type="text" id="cardName" placeholder="Name on card" autocomplete="cc-name">
          </label>
          <label>Card number
            <input type="text" id="cardNumber" placeholder="•••• •••• •••• ••••" autocomplete="cc-number">
          </label>
          <div class="tzk-payment-row">
            <label>Expiry
              <input type="text" id="cardExpiry" placeholder="MM/YY" autocomplete="cc-exp">
            </label>
            <label>CVC
              <input type="text" id="cardCvc" placeholder="123" autocomplete="cc-csc">
            </label>
          </div>
          <div class="d-flex gap-2">
            <button id="payNowBtn" class="tzk-event-btn" disabled>Continue to pay</button>
            <button id="cancelPaymentBtn" type="button" class="tzk-event-btn" style="background:#f8f9fa;color:#d82331;border:2px solid #d82331;">Cancel</button>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>

<footer class="tzk-footer">
  <div class="tzk-footer-inner">
    <div>
      <img src="/assets/logo/tazkirati-logo.png" alt="Tazkirati" class="tzk-footer-logo">
      <p class="tzk-footer-text">Tickets for concerts, sports, theater, and more.</p>
    </div>
    <div class="tzk-footer-links">
      <a href="/events">Events</a>
      <a href="/login">Sign in</a>
      <a href="/register">Create account</a>
    </div>
    <div class="tzk-footer-meta">
      <p>&copy; <span id="tzkFooterYear"></span> Tazkirati. All rights reserved.</p>
    </div>
  </div>
</footer>

<script src="/assets/js/auth-header.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script src="/assets/js/event-details.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
